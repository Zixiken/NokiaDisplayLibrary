#include "libnokiadisplay.h"

const uint8_t SPACE[] = {0x00, 0x00, 0x00, 0x00, 0x00, 0};
const uint8_t BANG[] = {0x00, 0x00, 0x4F, 0x00, 0x00, 0};
const uint8_t QUOTE[] = {0x00, 0x03, 0x00, 0x03, 0x00, 0};
const uint8_t NUMBER[] = {0x14, 0x7F, 0x14, 0x7F, 0x14, 0};
const uint8_t DOLLAR[] = {0x26, 0x49, 0x7F, 0x49, 0x32, 0};
const uint8_t PERCENT[] = {0x22, 0x15, 0x2A, 0x54, 0x22, 0};
const uint8_t AMP[] = {0x36, 0x49, 0x59, 0x26, 0x50, 0};
const uint8_t APOSTROPHE[] = {0x00, 0x00, 0x03, 0x00, 0x00, 0};
const uint8_t L_PAREN[] = {0x00, 0x1C, 0x22, 0x41, 0x00, 0};
const uint8_t R_PAREN[] = {0x00, 0x41, 0x22, 0x1C, 0x00, 0};
const uint8_t ASTERISK[] = {0x22, 0x14, 0x0E, 0x14, 0x22, 0};
const uint8_t PLUS[] = {0x08, 0x08, 0x3E, 0x08, 0x08, 0};
const uint8_t COMMA[] = {0x00, 0x40, 0x20, 0x00, 0x00, 0};
const uint8_t HYPHEN[] = {0x00, 0x08, 0x08, 0x08, 0x00, 0};
const uint8_t PERIOD[] = {0x00, 0x00, 0x40, 0x00, 0x00, 0};
const uint8_t SLASH[] = {0x20, 0x10, 0x08, 0x04, 0x02, 0};
const uint8_t ZERO[] = {0x3E, 0x41, 0x49, 0x41, 0x3E, 0};
const uint8_t ONE[] = {0x00, 0x42, 0x7F, 0x40, 0x00, 0};
const uint8_t TWO[] = {0x42, 0x61, 0x51, 0x49, 0x46, 0};
const uint8_t THREE[] = {0x22, 0x49, 0x49, 0x49, 0x36, 0};
const uint8_t FOUR[] = {0x0F, 0x08, 0x08, 0x7F, 0x08, 0};
const uint8_t FIVE[] = {0x5F, 0x49, 0x49, 0x49, 0x31, 0};
const uint8_t SIX[] = {0x3E, 0x49, 0x49, 0x49, 0x32, 0};
const uint8_t SEVEN[] = {0x01, 0x01, 0x71, 0x0D, 0x03, 0};
const uint8_t EIGHT[] = {0x36, 0x49, 0x49, 0x49, 0x36, 0};
const uint8_t NINE[] = {0x06, 0x09, 0x49, 0x29, 0x1E, 0};
const uint8_t COLON[] = {0x00, 0x36, 0x36, 0x00, 0x00, 0};
const uint8_t SEMICOLON[] = {0x00, 0x36, 0x16, 0x00, 0x00, 0};
const uint8_t LESS_THAN[] = {0x08, 0x14, 0x14, 0x22, 0x22, 0};
const uint8_t EQUALS[] = {0x14, 0x14, 0x14, 0x14, 0x14, 0};
const uint8_t GREATER_THAN[] = {0x22, 0x22, 0x14, 0x14, 0x08, 0};
const uint8_t QUESTION[] = {0x02, 0x01, 0x51, 0x09, 0x06, 0};
const uint8_t AT[] = {0x3E, 0x49, 0x55, 0x7D, 0x3E, 0};
const uint8_t A_UP[] = {0x7E, 0x09, 0x09, 0x09, 0x7E, 0};
const uint8_t B_UP[] = {0x7F, 0x49, 0x49, 0x49, 0x36, 0};
const uint8_t C_UP[] = {0x3E, 0x41, 0x41, 0x41, 0x22, 0};
const uint8_t D_UP[] = {0x7F, 0x41, 0x41, 0x42, 0x3C, 0};
const uint8_t E_UP[] = {0x7F, 0x49, 0x49, 0x41, 0x41, 0};
const uint8_t F_UP[] = {0x7F, 0x09, 0x09, 0x01, 0x01, 0};
const uint8_t G_UP[] = {0x3E, 0x41, 0x49, 0x49, 0x32, 0};
const uint8_t H_UP[] = {0x7F, 0x08, 0x08, 0x08, 0x7F, 0};
const uint8_t I_UP[] = {0x41, 0x41, 0x7F, 0x41, 0x41, 0};
const uint8_t J_UP[] = {0x20, 0x40, 0x40, 0x3F, 0x00, 0};
const uint8_t K_UP[] = {0x7F, 0x08, 0x14, 0x22, 0x41, 0};
const uint8_t L_UP[] = {0x7F, 0x40 ,0x40, 0x40, 0x00, 0};
const uint8_t M_UP[] = {0x7F, 0x02, 0x04, 0x02, 0x7F, 0};
const uint8_t N_UP[] = {0x7F, 0x06, 0x08, 0x30, 0x7F, 0};
const uint8_t O_UP[] = {0x3E, 0x41, 0x41, 0x41, 0x3E, 0};
const uint8_t P_UP[] = {0x7F, 0x09, 0x09, 0x09, 0x06, 0};
const uint8_t Q_UP[] = {0x3E, 0x41, 0x41, 0x21, 0x5E, 0};
const uint8_t R_UP[] = {0x7F, 0x09, 0x19, 0x69, 0x06, 0};
const uint8_t S_UP[] = {0x26, 0x49, 0x49, 0x49, 0x32, 0};
const uint8_t T_UP[] = {0x01, 0x01, 0x7F, 0x01, 0x01, 0};
const uint8_t U_UP[] = {0x3F, 0x40, 0x40, 0x40, 0x3F, 0};
const uint8_t V_UP[] = {0x07, 0x18, 0x60, 0x18, 0x07, 0};
const uint8_t W_UP[] = {0x3F, 0x40, 0x30, 0x40, 0x3F, 0};
const uint8_t X_UP[] = {0x63, 0x14, 0x08, 0x14, 0x63, 0};
const uint8_t Y_UP[] = {0x03, 0x04, 0x78, 0x04, 0x03, 0};
const uint8_t Z_UP[] = {0x61, 0x51, 0x49, 0x45, 0x43, 0};
const uint8_t L_BRACKET[] = {0x00, 0x7F, 0x41, 0x41, 0x00, 0};
const uint8_t BACKSLASH[] = {0x02, 0x04, 0x08, 0x10, 0x20, 0};
const uint8_t R_BRACKET[] = {0x00, 0x41, 0x41, 0x7F, 0x00, 0};
const uint8_t CARET[] = {0x00, 0x02, 0x01, 0x02, 0x00, 0};
const uint8_t UNDERSCORE[] = {0x40, 0x40, 0x40, 0x40, 0x40, 0};
const uint8_t GRAVE[] = {0x00, 0x01, 0x02, 0x00, 0x00, 0};
const uint8_t A_LO[] = {0x38, 0x44, 0x44, 0x28, 0x7C, 0};
const uint8_t B_LO[] = {0x7F, 0x28, 0x44, 0x44, 0x38, 0};
const uint8_t C_LO[] = {0x38, 0x44, 0x44, 0x28, 0x00, 0};
const uint8_t D_LO[] = {0x38, 0x44, 0x44, 0x28, 0x7F, 0};
const uint8_t E_LO[] = {0x38, 0x54, 0x54, 0x18, 0x00, 0};
const uint8_t F_LO[] = {0x08, 0x7E, 0x09, 0x02, 0x00, 0};
const uint8_t G_LO[] = {0x2C, 0x52, 0x52, 0x3C, 0x00, 0};
const uint8_t H_LO[] = {0x7F, 0x10, 0x08, 0x70, 0x00, 0};
const uint8_t I_LO[] = {0x00, 0x00, 0x7A, 0x00, 0x00, 0};
const uint8_t J_LO[] = {0x20, 0x40, 0x40, 0x3A, 0x00, 0};
const uint8_t K_LO[] = {0x7E, 0x10, 0x28, 0x40, 0x00, 0};
const uint8_t L_LO[] = {0x00, 0x00, 0x7E, 0x00, 0x00, 0};
const uint8_t M_LO[] = {0x78, 0x08, 0x30, 0x08, 0x70, 0};
const uint8_t N_LO[] = {0x78, 0x08, 0x08, 0x70, 0x00, 0};
const uint8_t O_LO[] = {0x00, 0x30, 0x48, 0x48, 0x30, 0};
const uint8_t P_LO[] = {0x00, 0x78, 0x14, 0x14, 0x08, 0};
const uint8_t Q_LO[] = {0x08, 0x14, 0x14, 0x78, 0x00, 0};
const uint8_t R_LO[] = {0x78, 0x04, 0x04, 0x08, 0x00, 0};
const uint8_t S_LO[] = {0x08, 0x54, 0x54, 0x20, 0x00, 0};
const uint8_t T_LO[] = {0x08, 0x3C, 0x48, 0x00, 0x00, 0};
const uint8_t U_LO[] = {0x38, 0x40, 0x40, 0x38, 0x00, 0};
const uint8_t V_LO[] = {0x0C, 0x30, 0x40, 0x30, 0x0C, 0};
const uint8_t W_LO[] = {0x38, 0x40, 0x20, 0x40, 0x38, 0};
const uint8_t X_LO[] = {0x44, 0x28, 0x10, 0x28, 0x44, 0};
const uint8_t Y_LO[] = {0x44, 0x28, 0x10, 0x08, 0x04, 0};
const uint8_t Z_LO[] = {0x44, 0x64, 0x54, 0x4C, 0x44, 0};
const uint8_t L_BRACE[] = {0x00, 0x08, 0x36, 0x41, 0x00, 0};
const uint8_t PIPE[] = {0x00, 0x00, 0x7F, 0x00, 0x00, 0};
const uint8_t R_BRACE[] = {0x00, 0x41, 0x36, 0x08, 0x00, 0};
const uint8_t TILDE[] = {0x04, 0x04, 0x08, 0x08, 0x04, 0};

// An array of the above characters, in ASCII order. By subtracting away the
// non-printable character range, this can be used to draw strings.
const uint8_t * charEncoding[] = {
    SPACE, BANG, QUOTE, NUMBER, DOLLAR, PERCENT, AMP, APOSTROPHE, L_PAREN,
    R_PAREN, ASTERISK, PLUS, COMMA, HYPHEN, PERIOD, SLASH, ZERO, ONE, TWO,
    THREE, FOUR, FIVE, SIX, SEVEN, EIGHT, NINE, COLON, SEMICOLON, LESS_THAN,
    EQUALS, GREATER_THAN, QUESTION, AT, A_UP, B_UP, C_UP, D_UP, E_UP, F_UP,
    G_UP, H_UP, I_UP, J_UP, K_UP, L_UP, M_UP, N_UP, O_UP, P_UP, Q_UP, R_UP,
    S_UP, T_UP, U_UP, V_UP, W_UP, X_UP, Y_UP, Z_UP, L_BRACKET, BACKSLASH,
    R_BRACKET, CARET, UNDERSCORE, GRAVE, A_LO, B_LO, C_LO, D_LO, E_LO, F_LO,
    G_LO, H_LO, I_LO, J_LO, K_LO, L_LO, M_LO, N_LO, O_LO, P_LO, Q_LO, R_LO,
    S_LO, T_LO, U_LO, V_LO, W_LO, X_LO, Y_LO, Z_LO, L_BRACE, PIPE, R_BRACE,
    TILDE
};

int drawText(uint8_t x, uint8_t y, const char * str, uint8_t opaque) {
    uint8_t curChar;

    while((curChar = *str) != 0) {
        curChar -= 0x20;
        if(curChar <= 0x5E)
            drawRegionRows(x, y, 6, 8, charEncoding[curChar], 1, opaque);
        else
            drawRegionRows(x, y, 6, 8, QUESTION, 1, opaque);

	x += 6;
        if(x == LCD_WIDTH) break;
	++str;
    }

    return 1;
}

